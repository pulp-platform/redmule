# Copyright 2023 ETH Zurich and University of Bologna.
# Solderpad Hardware License, Version 0.51, see LICENSE for details.
# SPDX-License-Identifier: SHL-0.51
#
# Author: Maurus Item (itemm@student.ethz.ch)
#
# Netlist extraction procs for RedMulE

# CHANGE-ME: Relative place of InjectaFault Library
set injectafault_directory ../InjectaFault

# Source generic netlist extraction procs
source ${injectafault_directory}/scripts/extract_nets.tcl

# nets that would crash the simulation if flipped
lappend core_netlist_ignore *clk_i
lappend core_netlist_ignore *clk
lappend core_netlist_ignore *clk_o
lappend core_netlist_ignore *rst_ni
lappend core_netlist_ignore *rst_n
lappend core_netlist_ignore *rst
lappend core_netlist_ignore *buffer_clock

lappend core_netlist_ignore *regfile_mem
lappend core_netlist_ignore *regfile_mem_generic
lappend core_netlist_ignore *regfile_mem_mandatory


# Get all signals that potentially could have faults
proc get_redmule_nets {} {
 set all_signals [extract_all_nets_recursive_filtered "/redmule_tb/i_redmule_wrap/i_redmule_top" $::core_netlist_ignore]
 return $all_signals
}
